<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="description" content="Contact - Spencer Lepine" />
    <meta name="title" content="Contact - Spencer Lepine" />
    <title>Contact - Spencer Lepine</title>

    <link href="/css/styles.css" media="screen" rel="stylesheet" type="text/css" />

    <meta property="og:title" content="Contact - Spencer Lepine" />
    <meta property="og:image" content="https://spencerlepine.github.io/images/thumbnail.png" />
    <meta property="og:description" content="Contact Spencer Lepine - Full Stack Developer." />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Contact - Spencer Lepine" />
    <meta name="twitter:image" content="https://spencerlepine.github.io/images/thumbnail.png" />
    <meta name="twitter:description" content="Contact Spencer Lepine - Full Stack Developer." />

    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png" />
    <link rel="manifest" href="/favicons/site.webmanifest" />

    <meta name="google-site-verification" content="OQfGUtEd0R1DlkUHq5BQAfAyc7kBZKV8sUVqzIoj_e0" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-89TJXWCL7Q"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'G-89TJXWCL7Q');
    </script>
  </head>
  <body>
    <p>Under construction, see <a href="https://spencerlepine.com">spencerlepine.com</a></p>

    <form
      action="https://public.herotofu.com/v1/aae45b10-27cb-11ed-9d54-c9f9d2b00e7b"
      method="POST"
      target="_blank"
      id="myForm"
      className="max-w-md mx-auto pb-10 pt-4 mb-20"
    >
      <div className="mb-4">
        <input
          type="text"
          data-testid="contact-form-name-input"
          placeholder="Name"
          name="name"
          className="w-full p-4 text-xs font-semibold border-2 border-text-primary rounded"
          required
        />
      </div>
      <div className="mb-4">
        <input
          type="email"
          data-testid="contact-form-email-input"
          placeholder="name@example.com"
          className="w-full p-4 text-xs font-semibold border-2 border-text-primary rounded"
          name="email"
          required
        />
      </div>
      <div className="mb-4">
        <textarea
          placeholder="Message..."
          data-testid="contact-form-message-input"
          className="w-full p-4 text-xs font-semibold h-24 border-2 border-text-primary rounded"
          name="message"
          required
        ></textarea>
      </div>
      <div className="text-right">
        <button type="submit" className="bg-secondary text-primary border-secondary px-6 py-2 font-bold border-2 border-solid rounded-xl" data-testid="contact-form-submit-btn">
          Submit
        </button >
      </div>
    </form>
  </body>
  <script>
    const form = document.getElementById('myForm');
    form.addEventListener('submit', (event) => {
      event.preventDefault(); // Prevent default form submission
      const data = new FormData(form);

      // Add dynamic data
      const submissionDate = new Date();
      data.append('SUBMISSION_DATE', submissionDate.toString());

      // Send POST request
      fetch("https://public.herotofu.com/v1/aae45b10-27cb-11ed-9d54-c9f9d2b00e7b", {
        method: 'POST',
        body: data,
      })
      .then(response => response.json())
      .then(responseData => {
        // Handle successful response
        console.log('Response:', responseData);
        // Do something with the response data
      })
      .catch(error => {
        // Handle errors
        console.error('Error:', error);
      });

      form.submit(); // Submit the form programmatically
      form.reset()
    });
  </script>
</html>
